import{a as s}from"./index-NIGUFBhG.js";const n="http://localhost:1337",a=localStorage.getItem("token"),o=s.create({baseURL:`${n}/api/`,headers:a?{Authorization:`Bearer ${a}`}:{}}),i=async r=>{try{return(await o.post("/tags",{data:{name:r}})).data}catch(t){throw console.error("Error adding tag:",t),t}},d=async r=>{try{return(await o.get(`/tags?filters[name][$eq]=${r}`)).data.data[0]||null}catch(t){return console.error("Error finding tag:",t),null}},p=async r=>{try{return(await o.post("/products",{data:r})).data.data}catch(t){throw console.error(t),t}},u=async()=>{const r=JSON.parse(localStorage.getItem("userData")||"null");try{return(await o.get(`/products?filters[owner][id][$eq]=${r.id}&populate=*`)).data.data}catch(t){throw console.error(t),t}},l=async r=>{try{return(await o.get(`/products?filters[categories][documentId][$eq]=${r}&populate=*`)).data.data}catch(t){throw console.error(`Error fetching products with id ${r}:`,t),t}},$=async r=>{try{return(await o.get(`/products?populate=*&filters[$or][0][name][$containsi]=${r}
            &filters[$or][1][description][$containsi]=${r}
            &filters[$or][2][productSKU][$containsi]=${r}
            &filters[$or][3][tags][name][$containsi]=${r}
            &filters[$or][4][categories][title][$containsi]=${r}
            &filters[$or][5][owner][username][$containsi]=${r}`)).data.data}catch(t){throw console.error(`Error fetching products with ${r}:`,t),t}},g=async r=>{try{return(await o.get(`/products/${r}?populate=*`)).data.data}catch(t){throw console.error(`Error fetching product with id ${r}:`,t),t}},h=async(r,t)=>{try{return(await o.put(`/products/${r}`,{data:t})).data}catch(e){throw console.error(`Error updating product with id ${r}:`,e),e}};export{l as a,$ as b,u as c,i as d,p as e,d as f,g,h as u};
