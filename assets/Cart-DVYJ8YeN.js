import{j as t,f as h,r as u,h as x}from"./index-CJ8qg8GQ.js";import{u as p,a as _}from"./hooks-DCLCYlOI.js";import{t as j}from"./productImg1-DFuUq_x-.js";const m="_cart_1gn2c_3",g="_cart_products_1gn2c_29",v="_cart_item_1gn2c_41",N="_product_1gn2c_55",b="_product_img_1gn2c_67",f="_product_data_1gn2c_93",C="_product_count_1gn2c_135",y="_cart_coupon_1gn2c_191",D="_cart_details_1gn2c_237",F="_cart_total_1gn2c_301",S="_cart_btns_1gn2c_311",s={cart:m,cart_products:g,cart_item:v,product:N,product_img:b,product_data:f,product_count:C,cart_coupon:y,cart_details:D,cart_total:F,cart_btns:S};function k({productId:n,productName:e,productSeller:i,productPrice:a,productQuantity:c}){const l=p(),r=d=>{let o=c;d==="+"?o=c+1:d==="-"&&c>1&&(o=c-1),l(h({productId:n,quantity:o}))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.cart_item,children:[t.jsxs("div",{className:s.product,children:[t.jsx("div",{className:s.product_img,children:t.jsx("img",{src:j,alt:"test img"})}),t.jsxs("div",{className:s.product_data,children:[t.jsx("h2",{children:e}),t.jsx("h3",{children:i}),t.jsxs("h4",{children:["$",a]})]})]}),t.jsxs("div",{className:s.product_count,children:[t.jsx("button",{onClick:()=>{r("-")},children:"-"}),t.jsx("span",{children:c}),t.jsx("button",{onClick:()=>{r("+")},children:"+"})]})]})})}function I({cartSubtotal:n,cartDelivery:e,cartDiscount:i}){const a=_(r=>r.cart),[c,l]=u.useState({subtotal:n,delivery:e,discount:i,total:0});return u.useEffect(()=>{const r=parseFloat(a.totalAmount.toFixed(2)),d=parseFloat((r+c.delivery-c.discount).toFixed(2));l(o=>({...o,total:d,subtotal:r}))},[c.subtotal,c.delivery,c.discount,a]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.cart_details,children:[t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("div",{children:"Subtotal"}),t.jsxs("div",{children:["$ ",c.subtotal]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Delivery"}),t.jsxs("div",{children:["$ ",c.delivery]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Discount"}),t.jsxs("div",{children:["- $",c.discount]})]})]}),t.jsx("div",{className:s.cart_total,children:t.jsx("ul",{children:t.jsxs("li",{children:[t.jsx("div",{children:"Total"}),t.jsxs("div",{children:["$ ",c.total]})]})})})]})})}function A(){const n=x(),e=_(c=>c.cart),i=()=>{n("/checkout")},a=e.products.map(c=>t.jsx(k,{productId:c.productId,productName:c.name,productSeller:c.sellerName,productPrice:c.price,productQuantity:c.quantity},c.productId));return t.jsx(t.Fragment,{children:t.jsx("div",{className:"global_container",children:t.jsxs("div",{className:s.cart,children:[t.jsx("h1",{children:"Shopping Cart"}),e.products.length===0?t.jsx("h2",{children:"Your cart is empty"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:s.cart_products,children:a}),t.jsx("div",{className:s.cart_coupon,children:t.jsx("input",{type:"text",placeholder:"Enter Coupon"})}),t.jsx("h2",{children:"Order Summary"}),t.jsx(I,{cartSubtotal:0,cartDelivery:5,cartDiscount:0}),t.jsx("div",{className:s.cart_btns,children:t.jsx("button",{onClick:i,children:"Proceed to Checkout"})})]})]})})})}export{A as default};
