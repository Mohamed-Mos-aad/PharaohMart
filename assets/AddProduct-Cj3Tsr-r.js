import{r as u,j as e}from"./index-D_eqsgiF.js";import{D as f}from"./DashboardHeader-Rwy3b8Qj.js";import{I as r}from"./InputElement-BCn4D11N.js";import{D as p,W as P,L as v,g as _}from"./index-BXO_J_zb.js";import{U as T,T as D}from"./TextAreaInputElement-B7x-G_JO.js";import{T as C}from"./ToggleElement-CTQ5n7-9.js";import{f as E,a as N,b as k}from"./productActions-srEK_aQt.js";import"./index-NIGUFBhG.js";const I="_add_product_1i7ve_3",A="_inputs_row_1i7ve_41",U="_product_btns_1i7ve_119",d={add_product:I,inputs_row:A,product_btns:U};function V(){const x=JSON.parse(localStorage.getItem("userData")||"null"),h=new Date,g={owner:x.id,name:"",description:"",categories:[],tags:[],price:0,salePrice:0,stockQuantity:0,productSKU:"",lowStockAlert:0,weight:0,length:0,width:0,unitWeight:"",unitDimension:"",images:[],mainImage:null,isPublished:!1,publishDate:h.toISOString().split("T")[0],publishTime:h.toTimeString().split(" ")[0]},[i,n]=u.useState(g),[m,j]=u.useState([]),[b,S]=u.useState(0),s=t=>{const{id:a,value:o}=t.currentTarget;let l=o;a==="tags"&&(l=o.split(",").map(c=>c.trim())),n(c=>({...c,[a]:l}))},w=async()=>{if(i.isPublished)try{const t=[];if(i.tags&&i.tags.length>0)for(const o of i.tags){const l=typeof o=="string"?o:String(o);if(!l.trim())continue;const c=await E(l.trim());if(c)t.push(c.id);else{const y=await N(l.trim());t.push(y.data.id)}}const a={...i,tags:t};await k(a),n(g),alert("Product added successfully!")}catch(t){console.log(t)}};return u.useEffect(()=>{(async()=>{const a=await _();j(a)})()},[]),u.useEffect(()=>{S(Number(((i.price-i.salePrice)/i.price*100).toFixed(2)))},[i]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"dashboard_container",children:e.jsxs("div",{className:d.add_product,children:[e.jsx(f,{title:"Add New Product",description:"Provide detailed information about yourproduct to attract customers."}),e.jsx("h2",{children:"Product Images"}),e.jsx(T,{title:"Drag and drop images here",description:"Recommended dimensions: 1000x1000px. Supported formats: JPG, PNG. You can upload up to 5 images.",quantity:5,onUpload:t=>{n(a=>({...a,images:t,mainImage:t[0]}))}}),e.jsxs("section",{children:[e.jsx("h2",{children:"Basic Information"}),e.jsx(r,{error:"",id:"name",label:"Product Title",value:i.name,name:"name",placeholder:"Enter product name",type:"text",onChange:s}),e.jsx(D,{id:"description",label:"Product Description",value:i.description,name:"description",placeholder:"Enter product description",onChange:s})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Category & Subcategory"}),e.jsxs("div",{className:d.inputs_row,children:[e.jsx(p,{title:"Select a category",selections:m.map(t=>({id:t.id,title:t.title})),onSelect:t=>{n(a=>({...a,categories:[...a.categories||[],t.id-1]}))}}),e.jsx(p,{title:"Select a subcategory",selections:m.map(t=>({id:t.id,title:t.title})),onSelect:t=>{n(a=>({...a,categories:[...a.categories||[],t.id-1]}))}})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Pricing"}),e.jsx(r,{error:"",id:"price",label:"Price",value:i.price,name:"price",placeholder:"Enter the standard price",type:"text",onChange:s}),e.jsx(r,{error:"",id:"salePrice",label:"Sale Price (Optional)",value:i.salePrice,name:"salePrice",placeholder:"Enter a discounted price",type:"text",onChange:s}),e.jsxs("span",{children:["Discount Percentage: ",b,"%"]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Inventory"}),e.jsx(r,{error:"",id:"stockQuantity",label:"Stock Quantity",value:i.stockQuantity,name:"stockQuantity",placeholder:"Enter available stock",type:"text",onChange:s}),e.jsx(r,{error:"",id:"productSKU",label:"SKU (Stock Keeping Unit)",value:i.productSKU,name:"productSKU",placeholder:"Enter product's unique identifier",type:"text",onChange:s}),e.jsx(r,{error:"",id:"lowStockAlert",label:"Low Stock Alert (Optional)",value:i.lowStockAlert,name:"lowStockAlert",placeholder:"Set a threshold for low stock alerts",type:"text",onChange:s})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Tags"}),e.jsx(r,{error:"",id:"tags",label:"Tags",value:i.tags,name:"tags",placeholder:"Add relevant tags or keywords to improve searchability",type:"text",onChange:s}),e.jsx("span",{children:"Suggested tags: Trending, New Arrival, Best Seller"})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Shipping Information"}),e.jsx(r,{error:"",id:"weight",label:"Weight",value:i.weight,name:"weight",placeholder:"Enter product weight",type:"text",onChange:s}),e.jsxs("div",{className:d.inputs_row,children:[e.jsx(r,{error:"",id:"length",label:"Length",value:i.length,name:"length",placeholder:"Enter length",type:"text",onChange:s}),e.jsx(r,{error:"",id:"width",label:"Width",value:i.width,name:"width",placeholder:"Enter width",type:"text",onChange:s})]}),e.jsxs("div",{className:d.inputs_row,children:[e.jsx(p,{title:"Select unit  (e.g.,  kg,  lbs)",selections:P,onSelect:t=>{n(a=>({...a,unitWeight:t.title}))}}),e.jsx(p,{title:"Select  unit  (e.g.,  cm,  inches)",selections:v,onSelect:t=>{n(a=>({...a,unitDimension:t.title}))}})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Visibility & Publication"}),e.jsx(C,{title:"Publish Now",onChange:t=>{n(a=>({...a,isPublished:t}))}})]}),e.jsxs("section",{children:[e.jsx("span",{children:"Schedule Publishing (Optional)"}),e.jsxs("div",{className:d.inputs_row,children:[e.jsx(r,{error:"",id:"publishDate",label:"Date",value:i.publishDate,name:"publishDate",placeholder:"Select date",type:"text",onChange:s}),e.jsx(r,{error:"",id:"publishTime",label:"Time",value:i.publishTime,name:"publishTime",placeholder:"Select time",type:"text",onChange:s})]})]}),e.jsxs("div",{className:d.product_btns,children:[e.jsx("button",{children:"Save Draft"}),e.jsx("button",{onClick:w,children:"Publish Product"})]})]})})})}export{V as default};
