import{r as n,j as t}from"./index-Bm52MoZb.js";import{s as y}from"./searchIcon-CqVP-Baf.js";import{D as w}from"./DashboardHeader-BsUmuNlu.js";import{c as v}from"./productActions-C3uaSF3X.js";import"./axios.config-DecBwDMt.js";const g="_inventory_1wt0f_3",N="_product_details_1wt0f_21",A="_product_image_1wt0f_95",I="_search_element_1wt0f_119",L="_inventory_filter_1wt0f_177",b="_active_1wt0f_209",Q="_product_img_1wt0f_295",s={inventory:g,product_details:N,product_image:A,search_element:I,inventory_filter:L,active:b,product_img:Q};function K(){const[r,_]=n.useState([]),[h,k]=n.useState(r),[o,x]=n.useState("All"),[u,j]=n.useState(""),[a,S]=n.useState([]),m=async()=>{const e=await v();_(e),k(e);const c=r.filter(l=>l.stockQuantity<l.lowStockAlert);S(c)},i=e=>{x(o===e?"All":e)},p=()=>{const e=r.filter(c=>{const l=u===""||c.name.toLowerCase().includes(u.toLowerCase());let d=!0;return o==="lowStock"?d=c.stockQuantity>0&&c.stockQuantity<c.lowStockAlert:o==="inStock"?d=c.stockQuantity>=c.lowStockAlert:o==="outOfStock"&&(d=c.stockQuantity===0),l&&d});k(e)},f=n.useMemo(()=>h.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("div",{className:s.product_img,children:t.jsx("img",{src:e.mainImage.url,loading:"lazy",alt:e.name})})}),t.jsx("td",{children:e.name}),t.jsx("td",{children:e.productSKU?"SKU"+e.productSKU:"_"}),t.jsx("td",{children:e.stockQuantity}),t.jsx("td",{children:t.jsx("div",{children:e.stockQuantity===0?"Out of Stock":e.stockQuantity<e.lowStockAlert?"Low Stock":"In Stock"})}),t.jsx("td",{children:"Restock | Edit"})]},e.documentId)),[h]);return n.useEffect(()=>{m()},[]),n.useEffect(()=>{p()},[o,u,r]),t.jsx(t.Fragment,{children:t.jsx("div",{className:"dashboard_container",children:t.jsxs("div",{className:s.inventory,children:[t.jsx(w,{title:"Inventory Management",description:"Efficiently track and manage your product stock."}),a.length>0&&t.jsxs("section",{children:[t.jsxs("div",{className:s.product_details,children:[t.jsx("h5",{children:"Low Stock Alert"}),t.jsxs("h6",{children:[a.length," Products Low in Stock"]}),t.jsx("span",{children:"View and restock products with low inventory levels."}),t.jsx("button",{onClick:()=>i("lowStock"),children:"View Low Stock"})]}),t.jsx("div",{className:s.product_image,children:t.jsx("img",{src:a[0].mainImage.url,alt:a[0].mainImage.name})})]}),t.jsxs("div",{className:s.search_element,children:[t.jsx("img",{src:y,alt:"search icon"}),t.jsx("input",{type:"text",placeholder:"Search products by name",onChange:e=>{j(e.currentTarget.value)}})]}),t.jsxs("div",{className:s.inventory_filter,children:[t.jsx("button",{className:o==="lowStock"?s.active:"",onClick:()=>{i("lowStock")},children:"Low Stock"}),t.jsx("button",{className:o==="inStock"?s.active:"",onClick:()=>{i("inStock")},children:"In Stock"}),t.jsx("button",{className:o==="outOfStock"?s.active:"",onClick:()=>{i("outOfStock")},children:"Out of Stock"})]}),t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Image"}),t.jsx("th",{children:"Product"}),t.jsx("th",{children:"SKU"}),t.jsx("th",{children:"Quantity in Stock"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:f})]})]})})})}export{K as default};
