import{u as N,r as l,j as s}from"./index-Bm52MoZb.js";import{s as e,a as v,l as D,r as I}from"./rightArrowIcon-BdNrdzej.js";import{l as R,c as S}from"./cardDisplayIcon-BKYvxcWi.js";import{P as k}from"./ProductCard-D-jT2188.js";import{a as w}from"./productActions-C3uaSF3X.js";import"./axios.config-DecBwDMt.js";function L(){const{id:c}=N(),x=10,[u,f]=l.useState(!1),[g,j]=l.useState([]),[y,P]=l.useState(g),[i,m]=l.useState(1),b=g.length,r=Math.ceil(b/x),h=t=>{f(t)},p=t=>{t==="left"&&i>1?m(i-1):t==="right"&&i<r&&m(i+1)},_=y?.map(t=>s.jsx(k,{id:t.documentId,name:t.name,price:t.salePrice,listDisplay:u,thumbnailImg:t.mainImage.url},t.id)),C=()=>{const t=[];if(r<=7)for(let a=1;a<=r;a++)t.push(a);else{const a=Math.max(1,i-1),d=Math.min(r,i+1);t.push(1),a>2&&t.push("...");for(let o=a;o<=d;o++)o!==1&&o!==r&&t.push(o);d<r-1&&t.push("..."),r!==1&&t.push(r)}return t.map((a,d)=>a==="..."?s.jsx("span",{className:e.ellipsis,children:"..."},`ellipsis-${d}`):s.jsx("button",{className:a===i?e.active_page:"",onClick:()=>m(Number(a)),children:a},a))};return l.useEffect(()=>{if(!c)return;(async()=>{try{const n=await w(c);j(n),P(n)}catch(n){console.log(n)}})()},[c]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"global_container",children:s.jsxs("div",{className:e.category_products,children:[s.jsxs("div",{className:e.category_data,children:[s.jsxs("h3",{children:["Home ",s.jsx("span",{children:"/"}),s.jsx("div",{children:c})]}),s.jsx("h2",{children:c})]}),s.jsxs("div",{className:e.category_options,children:[s.jsxs("div",{className:e.display_btns,children:[s.jsx("button",{onClick:()=>{h(!0)},children:s.jsx("img",{src:R,alt:"list display icon"})}),s.jsx("button",{onClick:()=>{h(!1)},children:s.jsx("img",{src:S,alt:"card display icon"})})]}),s.jsxs("button",{children:[s.jsx("img",{src:v,alt:"sort icon"}),"Sort By"]})]}),s.jsx("div",{className:`${e.category_cards} ${u?e.list_display:e.cards_display}`,children:_}),s.jsxs("div",{className:e.category_pages_btns,children:[s.jsx("button",{onClick:()=>{p("left")},children:s.jsx("img",{src:D,alt:"left arrow icon"})}),C(),s.jsx("button",{onClick:()=>{p("right")},children:s.jsx("img",{src:I,alt:"right aArrow icon"})})]})]})})})}export{L as default};
