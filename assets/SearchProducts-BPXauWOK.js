import{u as S,r as o,j as s}from"./index-O59s0r6e.js";import{s as e,a as v,l as D,r as I}from"./rightArrowIcon-BdNrdzej.js";import{l as C,c as R}from"./cardDisplayIcon-BKYvxcWi.js";import{P as k}from"./ProductCard-DwyHgRnl.js";import{b as w}from"./productActions-D-ngIMMl.js";import"./axios.config-DClue4Qq.js";function L(){const{id:d}=S(),x=10,[m,f]=o.useState(!1),[u,j]=o.useState([]),[y,P]=o.useState(u),[i,h]=o.useState(1),b=u.length,r=Math.ceil(b/x),p=t=>{f(t)},g=t=>{t==="left"&&i>1?h(i-1):t==="right"&&i<r&&h(i+1)},_=y?.map(t=>s.jsx(k,{id:t.documentId,name:t.name,price:t.salePrice,listDisplay:m,thumbnailImg:t.mainImage.url},t.id)),N=()=>{const t=[];if(r<=7)for(let a=1;a<=r;a++)t.push(a);else{const a=Math.max(1,i-1),l=Math.min(r,i+1);t.push(1),a>2&&t.push("...");for(let n=a;n<=l;n++)n!==1&&n!==r&&t.push(n);l<r-1&&t.push("..."),r!==1&&t.push(r)}return t.map((a,l)=>a==="..."?s.jsx("span",{className:e.ellipsis,children:"..."},`ellipsis-${l}`):s.jsx("button",{className:a===i?e.active_page:"",onClick:()=>h(Number(a)),children:a},a))};return o.useEffect(()=>{if(!d)return;(async()=>{try{const c=await w(d);j(c),P(c)}catch(c){console.log(c)}})()},[d]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"global_container",children:s.jsxs("div",{className:e.category_products,children:[s.jsxs("div",{className:e.category_data,children:[s.jsxs("h3",{children:["Home ",s.jsx("span",{children:"/"}),s.jsx("div",{children:"Search"})]}),s.jsx("h2",{children:"Search"})]}),s.jsxs("div",{className:e.category_options,children:[s.jsxs("div",{className:e.display_btns,children:[s.jsx("button",{onClick:()=>{p(!0)},children:s.jsx("img",{src:C,alt:"list display icon"})}),s.jsx("button",{onClick:()=>{p(!1)},children:s.jsx("img",{src:R,alt:"card display icon"})})]}),s.jsxs("button",{children:[s.jsx("img",{src:v,alt:"sort icon"}),"Sort By"]})]}),s.jsx("div",{className:`${e.category_cards} ${m?e.list_display:e.cards_display}`,children:_}),s.jsxs("div",{className:e.category_pages_btns,children:[s.jsx("button",{onClick:()=>{g("left")},children:s.jsx("img",{src:D,alt:"left arrow icon"})}),N(),s.jsx("button",{onClick:()=>{g("right")},children:s.jsx("img",{src:I,alt:"right aArrow icon"})})]})]})})})}export{L as default};
