import{r as d,j as o}from"./index-BLNdKlxx.js";import{a as p}from"./index-NIGUFBhG.js";const x="data:image/svg+xml,%3csvg%20width='14'%20height='9'%20viewBox='0%200%2014%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.6922%201.94219L7.44219%208.19219C7.32496%208.30955%207.16588%208.37549%207%208.37549C6.83412%208.37549%206.67504%208.30955%206.55781%208.19219L0.307812%201.94219C0.063599%201.69797%200.063599%201.30203%200.307812%201.05781C0.552026%200.813599%200.947974%200.813599%201.19219%201.05781L7%206.86641L12.8078%201.05781C13.052%200.813599%2013.448%200.813599%2013.6922%201.05781C13.9364%201.30203%2013.9364%201.69797%2013.6922%201.94219V1.94219Z'%20fill='%231A170F'/%3e%3c/svg%3e",C="_drop_menu_hbt7a_5",$="_opened_hbt7a_59",i={drop_menu:C,opened:$};function S({title:e,selections:t,onSelect:s}){const[a,u]=d.useState(!1),[h,g]=d.useState(e),w=()=>{u(!a)},c=(r,l)=>{s({id:r,title:l}),g(l)},m=t.map(r=>o.jsx("li",{onClick:()=>{c(r.id,r.title)},children:r.title},r.title));return o.jsx(o.Fragment,{children:o.jsxs("div",{className:`${i.drop_menu} ${a?i.opened:""}`,onClick:w,children:[o.jsx("h2",{children:h}),o.jsx("img",{src:x,alt:"downArrow icon"}),o.jsxs("ul",{children:[o.jsx("li",{onClick:()=>{c(null,"All")},children:"All"}),m]})]})})}const j="http://localhost:1337",y=localStorage.getItem("token"),n=p.create({baseURL:`${j}/api/`,headers:{Authorization:`Bearer ${y}`}}),L=async e=>{try{return(await n.post("/products",{data:e})).data.data}catch(t){throw console.error(t),t}},b=async()=>{const e=JSON.parse(localStorage.getItem("userData")||"null");try{return(await n.get(`/products?filters[owner][id][$eq]=${e.id}&populate=*`)).data.data}catch(t){throw console.error(t),t}},k=async(e,t)=>{try{return(await n.put(`/products/${e}`,{data:t})).data}catch(s){throw console.error(`Error updating product with id ${e}:`,s),s}},A="http://localhost:1337",_=p.create({baseURL:`${A}/api/`,headers:{"Content-Type":"application/json"}}),E=async()=>{try{return(await _.get("/categories")).data.data}catch(e){throw console.error("Error fetching categories:",e),e}};export{S as D,E as a,L as b,b as g,k as u};
