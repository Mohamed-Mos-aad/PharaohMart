import{u as D,r as c,j as s}from"./index-mruIk9pB.js";import{s as a,a as I,l as S,r as w}from"./rightArrowIcon-BdNrdzej.js";import{l as R,c as k}from"./cardDisplayIcon-BKYvxcWi.js";import{P as A}from"./ProductCard-CpP13ufz.js";import{a as H}from"./productActions-B6xn1fsG.js";import{g as E}from"./categoriesActions-DMlBr30V.js";import"./index-NIGUFBhG.js";function z(){const{id:o}=D(),y=10,[g,f]=c.useState({}),[m,x]=c.useState(!1),[u,j]=c.useState([]),[C,P]=c.useState(u),[i,d]=c.useState(1),b=u.length,r=Math.ceil(b/y),h=e=>{x(e)},p=e=>{e==="left"&&i>1?d(i-1):e==="right"&&i<r&&d(i+1)},_=C?.map(e=>s.jsx(A,{id:e.documentId,name:e.name,price:e.salePrice,listDisplay:m,thumbnailImg:e.mainImage.url},e.id)),N=()=>{const e=[];if(r<=7)for(let t=1;t<=r;t++)e.push(t);else{const t=Math.max(1,i-1),l=Math.min(r,i+1);e.push(1),t>2&&e.push("...");for(let n=t;n<=l;n++)n!==1&&n!==r&&e.push(n);l<r-1&&e.push("..."),r!==1&&e.push(r)}return e.map((t,l)=>t==="..."?s.jsx("span",{className:a.ellipsis,children:"..."},`ellipsis-${l}`):s.jsx("button",{className:t===i?a.active_page:"",onClick:()=>d(Number(t)),children:t},t))};return c.useEffect(()=>{if(!o)return;const e=async()=>{try{const t=await H(o);j(t),P(t)}catch(t){console.log(t)}};(async()=>{try{const t=await E(o);f(t)}catch(t){console.log(t)}})(),e()},[o]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"global_container",children:s.jsxs("div",{className:a.category_products,children:[s.jsxs("div",{className:a.category_data,children:[s.jsxs("h3",{children:["Home ",s.jsx("span",{children:"/"}),s.jsx("div",{children:g.title})]}),s.jsx("h2",{children:g.title})]}),s.jsxs("div",{className:a.category_options,children:[s.jsxs("div",{className:a.display_btns,children:[s.jsx("button",{onClick:()=>{h(!0)},children:s.jsx("img",{src:R,alt:"list display icon"})}),s.jsx("button",{onClick:()=>{h(!1)},children:s.jsx("img",{src:k,alt:"card display icon"})})]}),s.jsxs("button",{children:[s.jsx("img",{src:I,alt:"sort icon"}),"Sort By"]})]}),s.jsx("div",{className:`${a.category_cards} ${m?a.list_display:a.cards_display}`,children:_}),s.jsxs("div",{className:a.category_pages_btns,children:[s.jsx("button",{onClick:()=>{p("left")},children:s.jsx("img",{src:S,alt:"left arrow icon"})}),N(),s.jsx("button",{onClick:()=>{p("right")},children:s.jsx("img",{src:w,alt:"right aArrow icon"})})]})]})})})}export{z as default};
