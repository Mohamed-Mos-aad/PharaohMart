import{j as t,e as h,r as u,f as x}from"./index-CKgybt_u.js";import{u as p,a as _}from"./hooks-BK2AbLiO.js";const j="_cart_1gn2c_3",m="_cart_products_1gn2c_29",g="_cart_item_1gn2c_41",v="_product_1gn2c_55",N="_product_img_1gn2c_67",b="_product_data_1gn2c_93",C="_product_count_1gn2c_135",f="_cart_coupon_1gn2c_191",y="_cart_details_1gn2c_237",D="_cart_total_1gn2c_301",F="_cart_btns_1gn2c_311",s={cart:j,cart_products:m,cart_item:g,product:v,product_img:N,product_data:b,product_count:C,cart_coupon:f,cart_details:y,cart_total:D,cart_btns:F},I="/PharaohMart/assets/productImg1-CYQBWags.png";function S({productId:n,productName:a,productSeller:i,productPrice:e,productQuantity:c}){const l=p(),r=d=>{let o=c;d==="+"?o=c+1:d==="-"&&c>1&&(o=c-1),l(h({productId:n,quantity:o}))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.cart_item,children:[t.jsxs("div",{className:s.product,children:[t.jsx("div",{className:s.product_img,children:t.jsx("img",{src:I,alt:"test img"})}),t.jsxs("div",{className:s.product_data,children:[t.jsx("h2",{children:a}),t.jsx("h3",{children:i}),t.jsxs("h4",{children:["$",e]})]})]}),t.jsxs("div",{className:s.product_count,children:[t.jsx("button",{onClick:()=>{r("-")},children:"-"}),t.jsx("span",{children:c}),t.jsx("button",{onClick:()=>{r("+")},children:"+"})]})]})})}function k({cartSubtotal:n,cartDelivery:a,cartDiscount:i}){const e=_(r=>r.cart),[c,l]=u.useState({subtotal:n,delivery:a,discount:i,total:0});return u.useEffect(()=>{const r=parseFloat(e.totalAmount.toFixed(2)),d=parseFloat((r+c.delivery-c.discount).toFixed(2));l(o=>({...o,total:d,subtotal:r}))},[c.subtotal,c.delivery,c.discount,e]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.cart_details,children:[t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("div",{children:"Subtotal"}),t.jsxs("div",{children:["$ ",c.subtotal]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Delivery"}),t.jsxs("div",{children:["$ ",c.delivery]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Discount"}),t.jsxs("div",{children:["- $",c.discount]})]})]}),t.jsx("div",{className:s.cart_total,children:t.jsx("ul",{children:t.jsxs("li",{children:[t.jsx("div",{children:"Total"}),t.jsxs("div",{children:["$ ",c.total]})]})})})]})})}function E(){const n=x(),a=_(c=>c.cart),i=()=>{n("/checkout")},e=a.products.map(c=>t.jsx(S,{productId:c.productId,productName:c.name,productSeller:c.sellerName,productPrice:c.price,productQuantity:c.quantity},c.productId));return t.jsx(t.Fragment,{children:t.jsx("div",{className:"global_container",children:t.jsxs("div",{className:s.cart,children:[t.jsx("h1",{children:"Shopping Cart"}),a.products.length===0?t.jsx("h2",{children:"Your cart is empty"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:s.cart_products,children:e}),t.jsx("div",{className:s.cart_coupon,children:t.jsx("input",{type:"text",placeholder:"Enter Coupon"})}),t.jsx("h2",{children:"Order Summary"}),t.jsx(k,{cartSubtotal:0,cartDelivery:5,cartDiscount:0}),t.jsx("div",{className:s.cart_btns,children:t.jsx("button",{onClick:i,children:"Proceed to Checkout"})})]})]})})})}export{E as default};
