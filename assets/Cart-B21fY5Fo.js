import{j as t,e as j,b as m,r as h,f as p}from"./index-mruIk9pB.js";import{u as v,a as x}from"./hooks-Bplr4AmI.js";const g="_cart_1gn2c_3",b="_cart_products_1gn2c_29",C="_cart_item_1gn2c_41",N="_product_1gn2c_55",f="_product_img_1gn2c_67",y="_product_data_1gn2c_93",F="_product_count_1gn2c_135",D="_cart_coupon_1gn2c_191",k="_cart_details_1gn2c_237",S="_cart_total_1gn2c_301",P="_cart_btns_1gn2c_311",s={cart:g,cart_products:b,cart_item:C,product:N,product_img:f,product_data:y,product_count:F,cart_coupon:D,cart_details:k,cart_total:S,cart_btns:P};function $({productId:n,productName:r,productSeller:i,productPrice:e,productQuantity:c,productImage:o}){const a=v(),l=u=>{let _=c;u==="+"?_=c+1:u==="-"&&c>1&&(_=c-1),a(j({productId:n,quantity:_}))},d=()=>{a(m({productId:n,name:r,sellerName:i,quantity:1,price:e,imageUrl:o}))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.cart_item,children:[t.jsxs("div",{className:s.product,children:[t.jsx("div",{className:s.product_img,children:t.jsx("img",{src:o,alt:r})}),t.jsxs("div",{className:s.product_data,children:[t.jsx("h2",{children:r}),t.jsx("h3",{children:i}),t.jsxs("h4",{children:["$",e]})]})]}),t.jsxs("div",{className:s.product_count,children:[c===1?t.jsx("button",{onClick:d,children:"x"}):t.jsx("button",{onClick:()=>{l("-")},children:"-"}),t.jsx("span",{children:c}),t.jsx("button",{onClick:()=>{l("+")},children:"+"})]})]})})}function E({cartSubtotal:n,cartDelivery:r,cartDiscount:i}){const e=x(a=>a.cart),[c,o]=h.useState({subtotal:n,delivery:r,discount:i,total:0});return h.useEffect(()=>{const a=parseFloat(e.totalAmount.toFixed(2)),l=parseFloat((a+c.delivery-c.discount).toFixed(2));o(d=>({...d,total:l,subtotal:a}))},[c.subtotal,c.delivery,c.discount,e]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.cart_details,children:[t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("div",{children:"Subtotal"}),t.jsxs("div",{children:["$ ",c.subtotal]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Delivery"}),t.jsxs("div",{children:["$ ",c.delivery]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Discount"}),t.jsxs("div",{children:["- $",c.discount]})]})]}),t.jsx("div",{className:s.cart_total,children:t.jsx("ul",{children:t.jsxs("li",{children:[t.jsx("div",{children:"Total"}),t.jsxs("div",{children:["$ ",c.total]})]})})})]})})}function A(){const n=p(),r=x(c=>c.cart),i=()=>{n("/checkout")},e=r.products.map(c=>t.jsx($,{productImage:c.imageUrl,productId:c.productId,productName:c.name,productSeller:c.sellerName,productPrice:c.price,productQuantity:c.quantity},c.productId));return t.jsx(t.Fragment,{children:t.jsx("div",{className:"global_container",children:t.jsxs("div",{className:s.cart,children:[t.jsx("h1",{children:"Shopping Cart"}),r.products.length===0?t.jsx("h2",{children:"Your cart is empty"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:s.cart_products,children:e}),t.jsx("div",{className:s.cart_coupon,children:t.jsx("input",{type:"text",placeholder:"Enter Coupon"})}),t.jsx("h2",{children:"Order Summary"}),t.jsx(E,{cartSubtotal:0,cartDelivery:5,cartDiscount:0}),t.jsx("div",{className:s.cart_btns,children:t.jsx("button",{onClick:i,children:"Proceed to Checkout"})})]})]})})})}export{A as default};
