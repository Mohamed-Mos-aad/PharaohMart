import{c as j,j as t,l as m,h as p,d as x,r as h,f as v}from"./index-DrBJZPAC.js";const g="_cart_bog9s_3",b="_cart_products_bog9s_25",C="_cart_item_bog9s_35",N="_product_bog9s_47",f="_product_img_bog9s_57",y="_product_data_bog9s_79",F="_product_count_bog9s_117",D="_cart_coupon_bog9s_167",k="_cart_details_bog9s_207",S="_cart_total_bog9s_261",P="_cart_btns_bog9s_269",c={cart:g,cart_products:b,cart_item:C,product:N,product_img:f,product_data:y,product_count:F,cart_coupon:D,cart_details:k,cart_total:S,cart_btns:P};function $({productId:o,productName:r,productSeller:n,productPrice:e,productQuantity:s,productImage:i}){const a=j(),l=u=>{let _=s;u==="+"?_=s+1:u==="-"&&s>1&&(_=s-1),a(m({productId:o,quantity:_}))},d=()=>{a(p({productId:o,name:r,sellerName:n,quantity:1,price:e,imageUrl:i}))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:c.cart_item,children:[t.jsxs("div",{className:c.product,children:[t.jsx("div",{className:c.product_img,children:t.jsx("img",{src:i,alt:r})}),t.jsxs("div",{className:c.product_data,children:[t.jsx("h2",{children:r}),t.jsx("h3",{children:n}),t.jsxs("h4",{children:["$",e]})]})]}),t.jsxs("div",{className:c.product_count,children:[s===1?t.jsx("button",{onClick:d,children:"x"}):t.jsx("button",{onClick:()=>{l("-")},children:"-"}),t.jsx("span",{children:s}),t.jsx("button",{onClick:()=>{l("+")},children:"+"})]})]})})}function E({cartSubtotal:o,cartDelivery:r,cartDiscount:n}){const e=x(a=>a.cart),[s,i]=h.useState({subtotal:o,delivery:r,discount:n,total:0});return h.useEffect(()=>{const a=parseFloat(e.totalAmount.toFixed(2)),l=parseFloat((a+s.delivery-s.discount).toFixed(2));i(d=>({...d,total:l,subtotal:a}))},[s.subtotal,s.delivery,s.discount,e]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:c.cart_details,children:[t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("div",{children:"Subtotal"}),t.jsxs("div",{children:["$ ",s.subtotal]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Delivery"}),t.jsxs("div",{children:["$ ",s.delivery]})]}),t.jsxs("li",{children:[t.jsx("div",{children:"Discount"}),t.jsxs("div",{children:["- $",s.discount]})]})]}),t.jsx("div",{className:c.cart_total,children:t.jsx("ul",{children:t.jsxs("li",{children:[t.jsx("div",{children:"Total"}),t.jsxs("div",{children:["$ ",s.total]})]})})})]})})}function q(){const o=v(),r=x(s=>s.cart),n=()=>{o("/checkout")},e=r.products.map(s=>t.jsx($,{productImage:s.imageUrl,productId:s.productId,productName:s.name,productSeller:s.sellerName,productPrice:s.price,productQuantity:s.quantity},s.productId));return t.jsx(t.Fragment,{children:t.jsx("div",{className:"global_container",children:t.jsxs("div",{className:c.cart,children:[t.jsx("h1",{children:"Shopping Cart"}),r.products.length===0?t.jsx("h2",{children:"Your cart is empty"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:c.cart_products,children:e}),t.jsx("div",{className:c.cart_coupon,children:t.jsx("input",{type:"text",placeholder:"Enter Coupon"})}),t.jsx("h2",{children:"Order Summary"}),t.jsx(E,{cartSubtotal:0,cartDelivery:5,cartDiscount:0}),t.jsx("div",{className:c.cart_btns,children:t.jsx("button",{onClick:n,children:"Proceed to Checkout"})})]})]})})})}export{q as default};
